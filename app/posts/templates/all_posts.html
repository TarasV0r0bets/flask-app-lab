{% extends 'base.html' %}
{% block content %}
<h1>All Posts</h1>
<a href="{{ url_for('posts.add_post') }}" class="btn btn-primary mb-3">Add New Post</a>

{% for post in posts %}
<div class="card mb-3">
    <div class="card-body">
        <h5 class="card-title">{{ post.title }}</h5>
        <p class="card-text">{{ post.content }}</p>
        <p class="card-text"><small class="text-muted">
            Author: {{ post.author.username }} | Date: {{ post.posted.strftime('%Y-%m-%d %H:%M') }}
        </small></p>
        <p>Tags: 
            {% for tag in post.tags %}
                <span class="badge bg-secondary">{{ tag.name }}</span>
            {% endfor %}
        </p>
        <a href="{{ url_for('posts.edit_post', id=post.id) }}" class="btn btn-warning btn-sm">Edit</a>
        <a href="{{ url_for('posts.delete_post', id=post.id) }}" class="btn btn-danger btn-sm">Delete</a>
    </div>
</div>
{% endfor %}

{% if posts|length == 0 %}
<p>No posts available. Add a new post!</p>
{% endif %}
{% endblock %}
